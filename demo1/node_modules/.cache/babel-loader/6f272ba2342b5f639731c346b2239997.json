{"ast":null,"code":"import _objectSpread from \"d:\\\\gitworks\\\\react-basic\\\\demo1\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectSpread\";\n//reducer的作用:返回新的状态\nimport { CHANGE_PERSONS, CHANGE_SHOW, DELETE_PERSON, DEFAULT_PERSONS } from '../actions/types';\nvar initialState = {\n  persons: [{\n    name: \"黄晓明\",\n    age: 25,\n    index: 1\n  }, {\n    name: \"黄小明\",\n    age: 21,\n    index: 2\n  }, {\n    name: \"黄绯红\",\n    age: 45,\n    index: 3\n  }, {\n    name: \"黄种\",\n    age: 35,\n    index: 4\n  }],\n  isShow: false,\n  person: {}\n};\nexport default function () {\n  var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : initialState;\n  var action = arguments.length > 1 ? arguments[1] : undefined;\n  console.log(\"reducer\");\n  console.log(\"action.payload:\", action.payload);\n\n  switch (action.type) {\n    case CHANGE_PERSONS:\n      // let persons2 = state.persons.map(element => {\n      // \tif(element.index === action.payload.index){\n      // \t\telement.name = action.payload.name;\n      // \t}\n      // })\n      console.log(\"persons\", state.persons.map(function (element) {\n        if (element.index === action.payload.index) {\n          element.name = action.payload.name;\n        }\n      }));\n      return _objectSpread({}, state);\n\n    case CHANGE_SHOW:\n      return _objectSpread({}, state, {\n        isShow: !state.isShow\n      });\n\n    case DELETE_PERSON:\n      return _objectSpread({}, state, {\n        persons: state.persons.filter(function (_ref) {\n          var index = _ref.index;\n          return index !== action.payload;\n        })\n      });\n\n    case DEFAULT_PERSONS:\n      return _objectSpread({}, state, {\n        persons: state.persons\n      });\n\n    default:\n      return state;\n  }\n}","map":{"version":3,"sources":["d:\\gitworks\\react-basic\\demo1\\src\\reducers\\personsReducer.js"],"names":["CHANGE_PERSONS","CHANGE_SHOW","DELETE_PERSON","DEFAULT_PERSONS","initialState","persons","name","age","index","isShow","person","state","action","console","log","payload","type","map","element","filter"],"mappings":";AAAA;AACA,SAAQA,cAAR,EAAuBC,WAAvB,EAAmCC,aAAnC,EAAiDC,eAAjD,QAAuE,kBAAvE;AAEA,IAAMC,YAAY,GAAG;AACfC,EAAAA,OAAO,EAAE,CACP;AAACC,IAAAA,IAAI,EAAE,KAAP;AAAcC,IAAAA,GAAG,EAAE,EAAnB;AAAuBC,IAAAA,KAAK,EAAE;AAA9B,GADO,EAEP;AAACF,IAAAA,IAAI,EAAE,KAAP;AAAcC,IAAAA,GAAG,EAAE,EAAnB;AAAuBC,IAAAA,KAAK,EAAE;AAA9B,GAFO,EAGP;AAACF,IAAAA,IAAI,EAAE,KAAP;AAAcC,IAAAA,GAAG,EAAE,EAAnB;AAAuBC,IAAAA,KAAK,EAAE;AAA9B,GAHO,EAIP;AAACF,IAAAA,IAAI,EAAE,IAAP;AAAaC,IAAAA,GAAG,EAAE,EAAlB;AAAsBC,IAAAA,KAAK,EAAE;AAA7B,GAJO,CADM;AAOfC,EAAAA,MAAM,EAAE,KAPO;AAQfC,EAAAA,MAAM,EAAE;AARO,CAArB;AAUA,eAAe,YAAuC;AAAA,MAA7BC,KAA6B,uEAArBP,YAAqB;AAAA,MAAPQ,MAAO;AACrDC,EAAAA,OAAO,CAACC,GAAR,CAAY,SAAZ;AACAD,EAAAA,OAAO,CAACC,GAAR,CAAY,iBAAZ,EAA+BF,MAAM,CAACG,OAAtC;;AACA,UAAOH,MAAM,CAACI,IAAd;AACC,SAAKhB,cAAL;AACC;AACA;AACA;AACA;AACA;AACAa,MAAAA,OAAO,CAACC,GAAR,CAAY,SAAZ,EAAuBH,KAAK,CAACN,OAAN,CAAcY,GAAd,CAAkB,UAAAC,OAAO,EAAI;AACnD,YAAGA,OAAO,CAACV,KAAR,KAAkBI,MAAM,CAACG,OAAP,CAAeP,KAApC,EAA0C;AACzCU,UAAAA,OAAO,CAACZ,IAAR,GAAeM,MAAM,CAACG,OAAP,CAAeT,IAA9B;AACA;AACD,OAJsB,CAAvB;AAKA,+BACIK,KADJ;;AAGD,SAAKV,WAAL;AACC,+BACIU,KADJ;AAECF,QAAAA,MAAM,EAAE,CAACE,KAAK,CAACF;AAFhB;;AAID,SAAKP,aAAL;AACC,+BACIS,KADJ;AAECN,QAAAA,OAAO,EAAGM,KAAK,CAACN,OAAN,CAAcc,MAAd,CAAqB;AAAA,cAAGX,KAAH,QAAGA,KAAH;AAAA,iBAAeA,KAAK,KAAKI,MAAM,CAACG,OAAhC;AAAA,SAArB;AAFX;;AAKD,SAAKZ,eAAL;AACC,+BACIQ,KADJ;AAECN,QAAAA,OAAO,EAAEM,KAAK,CAACN;AAFhB;;AAID;AACC,aAAOM,KAAP;AAhCF;AAmCA","sourcesContent":["//reducer的作用:返回新的状态\r\nimport {CHANGE_PERSONS,CHANGE_SHOW,DELETE_PERSON,DEFAULT_PERSONS} from '../actions/types'\r\n\r\nconst initialState = {\r\n      persons: [\r\n        {name: \"黄晓明\", age: 25, index: 1},\r\n        {name: \"黄小明\", age: 21, index: 2},\r\n        {name: \"黄绯红\", age: 45, index: 3},\r\n        {name: \"黄种\", age: 35, index: 4}\r\n      ],\r\n      isShow: false,\r\n      person: {}\r\n}\r\nexport default function (state = initialState, action){\r\n\tconsole.log(\"reducer\");\r\n\tconsole.log(\"action.payload:\", action.payload);\r\n\tswitch(action.type){\r\n\t\tcase CHANGE_PERSONS:\r\n\t\t\t// let persons2 = state.persons.map(element => {\r\n\t\t\t// \tif(element.index === action.payload.index){\r\n\t\t\t// \t\telement.name = action.payload.name;\r\n\t\t\t// \t}\r\n\t\t\t// })\r\n\t\t\tconsole.log(\"persons\", state.persons.map(element => {\r\n\t\t\t\tif(element.index === action.payload.index){\r\n\t\t\t\t\telement.name = action.payload.name;\r\n\t\t\t\t}\r\n\t\t\t}));\r\n\t\t\treturn {\r\n\t\t\t\t...state\r\n\t\t\t}\t\r\n\t\tcase CHANGE_SHOW:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tisShow: !state.isShow\r\n\t\t\t}\r\n\t\tcase DELETE_PERSON:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tpersons:  state.persons.filter(({ index }) => index !== action.payload)\r\n\r\n\t\t\t}\r\n\t\tcase DEFAULT_PERSONS:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tpersons: state.persons\r\n\t\t\t}\r\n\t\tdefault:\r\n\t\t\treturn state;\r\n\t}\r\n\r\n}"]},"metadata":{},"sourceType":"module"}